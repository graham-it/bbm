C64 BASIC Boot Maker
====================

Release notes:

Version 1.05
Released on October 29, 2025

Changes:
- BASIC pointers (VARTAB, ARYTAB and STREND), specified into boot header, now
  are extimated loading the entire source file, before creating the target file
  (slower but more accurate);

- Directory can be scrolled up and down with cursor keys (as suggested by
  Leonardo, creator of "Mille e Una Avventura" channel). This is done by using
  a temporary buffer;

- Current entry of directory now is highlighted using reversed chars (as
  suggested by Claudio, creator of "Project CD Chronicles" channel);

- The user can choose an arbitrary name for the target file. Suggested name is
  the source name preceeded by a prefix, stripping down the last char, if
  the original name length is 16 chars;

- The prefix char used in previous versions, leftwards arrow "<-" ($5f), is
  replaced by an upwards arrow "^" ($5e), in the style of JiffyDOS "LOAD and
  RUN" command;

- Disk header and entry name showed in current directory, now are trimmed to
  16 chars, to manage correct displaying, when using this program with
  different DOS systems, like VICE Virtual FS.
  However, files with names longer than 16 chars can't be processed, without
  first renaming them.

- The "Edit Boot Message" routine is improved, adding source file name after
  the suggested message "booting..."

Fixed bugs:
- In the previous version, auto-executable files of programs larger than 24 KB
  could be corrupted due to a bug in the buffer handling of the copy routine.

========================================

Version 1.04
Released on September 2, 2025

Changes:
- The load address of the auto-executable file now is included into Boot header
  data, to simplify target file writing;

- Data buffer, used to copy content of the source file into the auto-executable
  file, now is extended to 4 KB (originally was 256 bytes only) to reduce head
  seeking during disk access (harmful on real drives) and to speed-up processing.

========================================

Version 1.03++ (bugfix)
Released on August 30, 2025

Fixed bugs:
- The displayed key to move down into directory now is <CRSR/DOWN>;

- Boot header includes BASIC pointers (VARTAB, ARYTAB and STREND). In this way,
  BBM works with all kind of program that resides in BASIC text area;

Notes:
- File length, used to determine VARTAB and the other pointers, it is calculated
  by rounding up its value with this formula (as suggested by WIL of CSDb):

	VARTAB_hi = blocks_lo + 8

  where '8' is the first page (address MSB) of BASIC text area.

========================================

Version 1.03 (first release)
Released on August 28, 2025

Known bugs (noticed by WIL of CSDb):
- The displayed key to move down into directory is <CRSR/RIGHT> instead of
  the actual <CRSR/DOWN>;

- It works only with M/L programs that start with a BASIC stub (e.g.
  10 SYS2061).
  Applied to regular BASIC programs, declared variables are allocated over
  the program itself.

========================================

Copyright (c) 2025 Graham (Francesco Gramignani)

https://graham-it.itch.io
https://github.com/graham-it
https://csdb.dk/scener/?id=40810
